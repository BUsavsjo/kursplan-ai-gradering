<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <title>Syllabus-analys (Fâ€“3 / 4â€“6 / 7â€“9)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div class="wrap">
    <header class="top">
      <div>
        <h1>Syllabus-analys (stadier Fâ€“3 / 4â€“6 / 7â€“9)</h1>
        <p class="muted">Ã„mneslista lokalt â†’ fÃ¶rsÃ¶k hÃ¤mta detaljer via Skolverkets API, annars fallback till lokalt.</p>
      </div>
      <div class="row">
        <label class="chip">
          <input id="useApiToggle" type="checkbox" checked />
          AnvÃ¤nd API
        </label>
      </div>
    </header>

    <section class="grid">
      <div class="card">
        <h3>DatakÃ¤lla</h3>
        <label class="lbl">Skolverket Syllabus API-bas</label>
        <input id="apiBase" value="https://api.skolverket.se/syllabus/v1" />
        <p class="tiny muted">Vid CORS/HTTP-fel faller sidan tillbaka till lokala Ã¤mnesfiler i <code>/docs/subjects</code>.</p>
      </div>

      <div class="card">
        <h3>VÃ¤lj kurs/Ã¤mne</h3>
        <select id="subjectSelect"></select>
        <div id="status" class="tiny muted" style="min-height:1.2em"></div>
      </div>

      <div class="card">
        <h3>Export</h3>
        <div class="row">
          <button id="btnExportJSON">Exportera JSON</button>
          <button id="btnExportMD">Exportera instruktioner (MD)</button>
          <button id="btnExportDOCX">Exportera DOCX</button>
          <button id="btnExportPDF">Exportera PDF</button>
        </div>
      </div>
    </section>

    <section class="grid">
      <div class="card">
        <h3 id="subjectTitle">Ã„mnesÃ¶versikt</h3>
        <div id="subjectPurpose"></div>
        <div class="block">
          <h4 id="ccTitle">Centralt innehÃ¥ll</h4>
          <div class="row tiny">
            <label>Stadie:
              <select id="ccStageFilter">
                <option value="">Alla</option>
                <option value="1-3">LÃ¥gstadiet (1â€“3)</option>
                <option value="4-6">Mellanstadiet (4â€“6)</option>
                <option value="7-9">HÃ¶gstadiet (7â€“9)</option>
              </select>
            </label>
            <label>Sortera:
              <select id="ccSort">
                <option value="">Ursprunglig</option>
                <option value="asc">Fâ€“3 â†’ 7â€“9</option>
                <option value="desc">7â€“9 â†’ Fâ€“3</option>
              </select>
            </label>
          </div>
          <ul id="ccList" class="list"></ul>
        </div>
        <div class="block">
          <h4>Kunskapskrav</h4>
          <ul id="krList" class="list"></ul>
        </div>
      </div>

      <div class="card">
        <div class="row between">
          <h3>BedÃ¶mningsmoment</h3>
          <div class="row">
            <label class="tiny">Sortera:
              <select id="assignStageSort">
                <option value="">Ingen</option>
                <option value="F-3">Fâ€“3</option>
                <option value="4-6">4â€“6</option>
                <option value="7-9">7â€“9</option>
              </select>
            </label>
            <button id="btnAdd">+ Nytt moment</button>
          </div>
        </div>
        <div id="assignments"></div>
      </div>

      <div class="card">
        <h3>FÃ¶rhandsvisning & PM-text</h3>
        <div id="preview" class="preview muted">LÃ¤gg till ett moment och sÃ¤tt gradering per stadie.</div>
      </div>
    </section>

    <section class="card">
      <h3>GraderingsnivÃ¥er (stÃ¶dmatris)</h3>
      <div class="levels">
        <div class="lvl">
          <div class="icon">â›”</div>
            <div><b>BegrÃ¤nsat</b> â€“ AI anvÃ¤nds inte. Uppgiften genomfÃ¶rs utan digitala hjÃ¤lpmedel.
            <div class="tiny muted">Exempelord (Skolverket): <em>enkla</em>, <em>Ã¶versiktligt</em>, <em>i huvudsak fungerande</em></div>
          </div>
        </div>
        <div class="lvl">
          <div class="icon">â—‘</div>
          <div><b>BegrÃ¤nsat</b> â€“ AI kan ge stÃ¶d men inte fÃ¤rdig produkt. <i>Logg krÃ¤vs.</i>
            <div class="tiny muted">Exempelord (Skolverket): <em>prÃ¶va</em>, <em>anvÃ¤nda i enkla sammanhang</em>, <em>med viss sÃ¤kerhet</em></div>
          </div>
        </div>
        <div class="lvl">
          <div class="icon">ğŸŒ±</div>
          <div><b>Introducera</b> â€“ AI som hjÃ¤lpmedel; eleven visar fÃ¶rstÃ¥else. <i>Logg krÃ¤vs.</i>
            <div class="tiny muted">Exempelord (Skolverket): <em>utvecklade</em>, <em>resonera utfÃ¶rligt</em>, <em>jÃ¤mfÃ¶ra</em>, <em>bearbeta</em></div>
          </div>
        </div>
        <div class="lvl">
          <div class="icon">ğŸ“Œ</div>
          <div><b>Obligatoriskt</b> â€“ AI <i>ska</i> anvÃ¤ndas i ett moment. <i>Reflektion krÃ¤vs.</i>
            <div class="tiny muted">Exempelord (Skolverket): <em>analysera</em>, <em>vÃ¤rdera</em>, <em>resonera nyanserat</em>, <em>med sÃ¤kerhet</em></div>
          </div>
        </div>
      </div>
    </section>

    <footer class="tiny muted">
      <p>Det Ã¤r alltid lÃ¤rarens professionella tolkning som avgÃ¶r. Verktyget Ã¤r ett stÃ¶d, inte en automatisk bedÃ¶mning.</p>
    </footer>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html-docx-js/0.5.1/html-docx.min.js"></script>
  <script type="module" src="./app.js"></script>
</body>
</html>
